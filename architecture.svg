<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800">
  <style>
    text { font-family: Arial, sans-serif; font-size: 12px; }
    .title { font-size: 20px; font-weight: bold; }
    .subtitle { font-size: 16px; font-weight: bold; }
    .small { font-size: 10px; }
  </style>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">Infoctor Updated Architecture with Docker and Kubernetes</text>

  <!-- Kubernetes Cluster -->
  <rect x="20" y="50" width="760" height="700" fill="#E6F3FF" stroke="#0077BE" stroke-width="2" rx="10" />
  <text x="400" y="70" text-anchor="middle" class="subtitle">Kubernetes Cluster</text>

  <!-- Client Layer -->
  <rect x="50" y="90" width="700" height="60" fill="#A0D0FF" stroke="black" />
  <text x="400" y="110" text-anchor="middle" class="subtitle">Client Layer</text>
  <text x="180" y="135" text-anchor="middle">Web Application</text>
  <text x="400" y="135" text-anchor="middle">Mobile App</text>
  <text x="620" y="135" text-anchor="middle">Third-party Integrations</text>

  <!-- API Gateway -->
  <rect x="50" y="170" width="700" height="40" fill="#FFD0A0" stroke="black" />
  <text x="400" y="195" text-anchor="middle" class="subtitle">API Gateway (Docker Container)</text>

  <!-- Microservices Layer -->
  <rect x="50" y="230" width="700" height="180" fill="#D0FFA0" stroke="black" />
  <text x="400" y="250" text-anchor="middle" class="subtitle">Microservices Layer (Docker Containers)</text>
  
  <rect x="70" y="270" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="120" y="290" text-anchor="middle" class="small">User Service</text>
  <text x="120" y="305" text-anchor="middle" class="small">Container</text>

  <rect x="190" y="270" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="240" y="290" text-anchor="middle" class="small">Patient Service</text>
  <text x="240" y="305" text-anchor="middle" class="small">Container</text>

  <rect x="310" y="270" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="360" y="290" text-anchor="middle" class="small">Appointment</text>
  <text x="360" y="305" text-anchor="middle" class="small">Container</text>

  <rect x="430" y="270" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="480" y="290" text-anchor="middle" class="small">Encounter</text>
  <text x="480" y="305" text-anchor="middle" class="small">Container</text>

  <rect x="550" y="270" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="600" y="290" text-anchor="middle" class="small">Observation</text>
  <text x="600" y="305" text-anchor="middle" class="small">Container</text>

  <rect x="70" y="330" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="120" y="350" text-anchor="middle" class="small">Condition</text>
  <text x="120" y="365" text-anchor="middle" class="small">Container</text>

  <rect x="190" y="330" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="240" y="350" text-anchor="middle" class="small">Medication</text>
  <text x="240" y="365" text-anchor="middle" class="small">Container</text>

  <rect x="310" y="330" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="360" y="350" text-anchor="middle" class="small">Billing</text>
  <text x="360" y="365" text-anchor="middle" class="small">Container</text>

  <rect x="430" y="330" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="480" y="350" text-anchor="middle" class="small">Analytics</text>
  <text x="480" y="365" text-anchor="middle" class="small">Container</text>

  <rect x="550" y="330" width="100" height="40" fill="white" stroke="#0077BE" />
  <text x="600" y="350" text-anchor="middle" class="small">Notification</text>
  <text x="600" y="365" text-anchor="middle" class="small">Container</text>

  <!-- Message Queue -->
  <rect x="50" y="430" width="700" height="40" fill="#FFE0A0" stroke="black" />
  <text x="400" y="455" text-anchor="middle" class="subtitle">Message Queue (Apache Kafka Container)</text>

  <!-- Database Layer -->
  <rect x="50" y="490" width="700" height="80" fill="#D0A0FF" stroke="black" />
  <text x="400" y="510" text-anchor="middle" class="subtitle">Database Layer</text>
  <rect x="70" y="530" width="660" height="30" fill="white" stroke="#0077BE" />
  <text x="400" y="550" text-anchor="middle">PostgreSQL Container (Primary with Read Replicas)</text>

  <!-- Caching Layer -->
  <rect x="50" y="590" width="340" height="40" fill="#FFA0D0" stroke="black" />
  <text x="220" y="615" text-anchor="middle" class="subtitle">Redis Cache Container</text>
  
  <!-- Search -->
  <rect x="410" y="590" width="340" height="40" fill="#A0FFD0" stroke="black" />
  <text x="580" y="615" text-anchor="middle" class="subtitle">Elasticsearch Container</text>

  <!-- Storage -->
  <rect x="50" y="650" width="340" height="40" fill="#A0D0FF" stroke="black" />
  <text x="220" y="675" text-anchor="middle" class="subtitle">S3 Storage</text>

  <!-- Blockchain -->
  <rect x="410" y="650" width="340" height="40" fill="#FFD0A0" stroke="black" />
  <text x="580" y="675" text-anchor="middle" class="subtitle">Blockchain Container (Hyperledger Fabric)</text>

  <!-- Kubernetes annotations -->
  <text x="750" y="100" text-anchor="end" class="small">Ingress Controller</text>
  <text x="750" y="130" text-anchor="end" class="small">Load Balancer</text>
  <text x="750" y="160" text-anchor="end" class="small">Horizontal Pod Autoscaler</text>
  <text x="750" y="190" text-anchor="end" class="small">Persistent Volumes</text>
  <text x="750" y="220" text-anchor="end" class="small">Config Maps &amp; Secrets</text>

  <!-- Docker annotations -->
  <text x="50" y="780" text-anchor="start" class="small">Docker Images</text>
  <text x="200" y="780" text-anchor="start" class="small">Docker Registry</text>
  <text x="350" y="780" text-anchor="start" class="small">Docker Compose (Dev)</text>
  <text x="550" y="780" text-anchor="start" class="small">Dockerfile for each service</text>

</svg>